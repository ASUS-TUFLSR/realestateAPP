{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Manmit%20pal/Desktop/realestateAPP/frontend/src/components/PropertyForm.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\n\r\nexport default function PropertyForm({ initial = {}, onSuccess }) {\r\n  const [form, setForm] = useState({\r\n    title: initial.title || '',\r\n    builderName: initial.builderName || '',\r\n    location: initial.location || '',\r\n    price: initial.price || '',\r\n    description: initial.description || ''\r\n  });\r\n  const [mainImage, setMainImage] = useState(null);\r\n  const [gallery, setGallery] = useState([]);\r\n  const router = useRouter();\r\n\r\n  function onChange(e) {\r\n    setForm(prev => ({ ...prev, [e.target.name]: e.target.value }));\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const fd = new FormData();\r\n    Object.keys(form).forEach(k => fd.append(k, form[k]));\r\n    if (mainImage) fd.append('mainImage', mainImage);\r\n    for (let i = 0; i < gallery.length; i++) fd.append('gallery', gallery[i]);\r\n\r\n    const token = localStorage.getItem('admin_token');\r\n    // const res = await fetch(`${import.meta.env.VITE_API_URL}/api/properties${initial.id ? '/' + initial.id : ''}`, {\r\n    //   method: initial.id ? 'PUT' : 'POST',\r\n    //   headers: { Authorization: `Bearer ${token}` },\r\n    //   body: fd\r\n    // });\r\n    const res = await fetch(`http://localhost:5000/api/properties${initial.id ? '/' + initial.id : ''}`, {\r\n      method: initial.id ? 'PUT' : 'POST',\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      body: fd\r\n    });\r\n    if (res.ok) {\r\n      alert('Success');\r\n      if (onSuccess) onSuccess();\r\n      else router.push('/admin/dashboard');\r\n    } else {\r\n      const err = await res.json();\r\n      alert(err.message || 'Failed');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: 8, width: 600 }}>\r\n      <input name=\"title\" placeholder=\"Title\" value={form.title} onChange={onChange} />\r\n      <input name=\"builderName\" placeholder=\"Builder Name\" value={form.builderName} onChange={onChange} />\r\n      <input name=\"location\" placeholder=\"Location\" value={form.location} onChange={onChange} />\r\n      <input name=\"price\" placeholder=\"Price\" value={form.price} onChange={onChange} />\r\n      <textarea name=\"description\" placeholder=\"Description\" value={form.description} onChange={onChange} />\r\n      <div>\r\n        <label>Main Image</label>\r\n        <input type=\"file\" accept=\"image/*\" onChange={e => setMainImage(e.target.files[0])} />\r\n      </div>\r\n      <div>\r\n        <label>Gallery Images</label>\r\n        <input type=\"file\" accept=\"image/*\" multiple onChange={e => setGallery([...e.target.files])} />\r\n      </div>\r\n      <button type=\"submit\">Save</button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,aAAa,EAAE,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;QAC/B,OAAO,QAAQ,KAAK,IAAI;QACxB,aAAa,QAAQ,WAAW,IAAI;QACpC,UAAU,QAAQ,QAAQ,IAAI;QAC9B,OAAO,QAAQ,KAAK,IAAI;QACxB,aAAa,QAAQ,WAAW,IAAI;IACtC;IACA,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC,EAAE;IACzC,MAAM,SAAS,IAAA,oIAAS;IAExB,SAAS,SAAS,CAAC;QACjB,QAAQ,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;YAAC,CAAC;IAC/D;IAEA,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAChB,MAAM,KAAK,IAAI;QACf,OAAO,IAAI,CAAC,MAAM,OAAO,CAAC,CAAA,IAAK,GAAG,MAAM,CAAC,GAAG,IAAI,CAAC,EAAE;QACnD,IAAI,WAAW,GAAG,MAAM,CAAC,aAAa;QACtC,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,EAAE,IAAK,GAAG,MAAM,CAAC,WAAW,OAAO,CAAC,EAAE;QAExE,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,mHAAmH;QACnH,yCAAyC;QACzC,mDAAmD;QACnD,aAAa;QACb,MAAM;QACN,MAAM,MAAM,MAAM,MAAM,CAAC,oCAAoC,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,EAAE,GAAG,IAAI,EAAE;YACnG,QAAQ,QAAQ,EAAE,GAAG,QAAQ;YAC7B,SAAS;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC;YAC5C,MAAM;QACR;QACA,IAAI,IAAI,EAAE,EAAE;YACV,MAAM;YACN,IAAI,WAAW;iBACV,OAAO,IAAI,CAAC;QACnB,OAAO;YACL,MAAM,MAAM,MAAM,IAAI,IAAI;YAC1B,MAAM,IAAI,OAAO,IAAI;QACvB;IACF;IAEA,qBACE,qKAAC;QAAK,UAAU;QAAc,OAAO;YAAE,SAAS;YAAQ,eAAe;YAAU,KAAK;YAAG,OAAO;QAAI;;0BAClG,qKAAC;gBAAM,MAAK;gBAAQ,aAAY;gBAAQ,OAAO,KAAK,KAAK;gBAAE,UAAU;;;;;;0BACrE,qKAAC;gBAAM,MAAK;gBAAc,aAAY;gBAAe,OAAO,KAAK,WAAW;gBAAE,UAAU;;;;;;0BACxF,qKAAC;gBAAM,MAAK;gBAAW,aAAY;gBAAW,OAAO,KAAK,QAAQ;gBAAE,UAAU;;;;;;0BAC9E,qKAAC;gBAAM,MAAK;gBAAQ,aAAY;gBAAQ,OAAO,KAAK,KAAK;gBAAE,UAAU;;;;;;0BACrE,qKAAC;gBAAS,MAAK;gBAAc,aAAY;gBAAc,OAAO,KAAK,WAAW;gBAAE,UAAU;;;;;;0BAC1F,qKAAC;;kCACC,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBAAM,MAAK;wBAAO,QAAO;wBAAU,UAAU,CAAA,IAAK,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;;;;;;;;;;;;0BAEnF,qKAAC;;kCACC,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBAAM,MAAK;wBAAO,QAAO;wBAAU,QAAQ;wBAAC,UAAU,CAAA,IAAK,WAAW;mCAAI,EAAE,MAAM,CAAC,KAAK;6BAAC;;;;;;;;;;;;0BAE5F,qKAAC;gBAAO,MAAK;0BAAS;;;;;;;;;;;;AAG5B"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Manmit%20pal/Desktop/realestateAPP/frontend/src/pages/admin/edit/%5Bid%5D.js"],"sourcesContent":["import { useRouter } from 'next/router';\r\nimport { useEffect, useState } from 'react';\r\nimport PropertyForm from '../../../components/PropertyForm';\r\n\r\nexport default function EditProperty() {\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n  const [initial, setInitial] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    // fetch(`${import.meta.env.VITE_API_URL}/api/properties/${id}`)\r\n    fetch(`http://localhost:5000/api/properties/${id}`)\r\n      .then(r => r.json())\r\n      .then(setInitial);\r\n  }, [id]);\r\n\r\n  if (!initial) return <div style={{ padding: 20 }}>Loading...</div>;\r\n\r\n  return <div style={{ padding: 20 }}>\r\n    <h2>Edit Property</h2>\r\n    <PropertyForm initial={initial} />\r\n  </div>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,KAAK;IAC3B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,IAAA,gHAAS,EAAC;QACR,IAAI,CAAC,IAAI;QACT,gEAAgE;QAChE,MAAM,CAAC,qCAAqC,EAAE,IAAI,EAC/C,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,IAChB,IAAI,CAAC;IACV,GAAG;QAAC;KAAG;IAEP,IAAI,CAAC,SAAS,qBAAO,qKAAC;QAAI,OAAO;YAAE,SAAS;QAAG;kBAAG;;;;;;IAElD,qBAAO,qKAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BAC/B,qKAAC;0BAAG;;;;;;0BACJ,qKAAC,qIAAY;gBAAC,SAAS;;;;;;;;;;;;AAE3B"}}]
}