{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Manmit%20pal/Desktop/realestateAPP/frontend/src/pages/admin/dashboard.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\n\r\nexport default function Dashboard() {\r\n  const [properties, setProperties] = useState([]);\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, []);\r\n\r\n  async function load() {\r\n    // const res = await fetch(`${import.meta.env.VITE_API_URL}/api/properties`);\r\n    const res = await fetch(`http://localhost:5000/api/properties`);\r\n    const data = await res.json();\r\n    setProperties(data);\r\n  }\r\n\r\n  async function handleDelete(id) {\r\n    if (!confirm('Delete?')) return;\r\n    const token = localStorage.getItem('admin_token');\r\n    // const res = await fetch(`${import.meta.env.VITE_API_URL}/api/properties/${id}`, {\r\n    //   method: 'DELETE',\r\n    //   headers: { Authorization: `Bearer ${token}` }\r\n    // });\r\n    const res = await fetch(`http://localhost:5000/api/properties/${id}`, {\r\n      method: 'DELETE',\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    if (res.ok) load();\r\n    else alert('Delete failed');\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: 20 }}>\r\n      <h2>Admin Dashboard</h2>\r\n      <Link href=\"/admin/add-property\">Add Property</Link>\r\n      <div style={{ marginTop: 16 }}>\r\n        <table border=\"1\" cellPadding=\"8\" style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n          <thead>\r\n            <tr>\r\n              <th>Title</th><th>Location</th><th>Price</th><th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {properties.map(p => (\r\n              <tr key={p.id}>\r\n                <td>{p.title}</td>\r\n                <td>{p.location}</td>\r\n                <td>{p.price}</td>\r\n                <td>\r\n                  <Link href={`/admin/edit/${p.id}`}>Edit</Link>\r\n                  {' | '}\r\n                  <button onClick={() => handleDelete(p.id)}>Delete</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAE/C,IAAA,gHAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe;QACb,6EAA6E;QAC7E,MAAM,MAAM,MAAM,MAAM,CAAC,oCAAoC,CAAC;QAC9D,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,cAAc;IAChB;IAEA,eAAe,aAAa,EAAE;QAC5B,IAAI,CAAC,QAAQ,YAAY;QACzB,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,oFAAoF;QACpF,sBAAsB;QACtB,kDAAkD;QAClD,MAAM;QACN,MAAM,MAAM,MAAM,MAAM,CAAC,qCAAqC,EAAE,IAAI,EAAE;YACpE,QAAQ;YACR,SAAS;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC;QAC9C;QACA,IAAI,IAAI,EAAE,EAAE;aACP,MAAM;IACb;IAEA,qBACE,qKAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BACxB,qKAAC;0BAAG;;;;;;0BACJ,qKAAC,gIAAI;gBAAC,MAAK;0BAAsB;;;;;;0BACjC,qKAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAG;0BAC1B,cAAA,qKAAC;oBAAM,QAAO;oBAAI,aAAY;oBAAI,OAAO;wBAAE,OAAO;wBAAQ,gBAAgB;oBAAW;;sCACnF,qKAAC;sCACC,cAAA,qKAAC;;kDACC,qKAAC;kDAAG;;;;;;kDAAU,qKAAC;kDAAG;;;;;;kDAAa,qKAAC;kDAAG;;;;;;kDAAU,qKAAC;kDAAG;;;;;;;;;;;;;;;;;sCAGrD,qKAAC;sCACE,WAAW,GAAG,CAAC,CAAA,kBACd,qKAAC;;sDACC,qKAAC;sDAAI,EAAE,KAAK;;;;;;sDACZ,qKAAC;sDAAI,EAAE,QAAQ;;;;;;sDACf,qKAAC;sDAAI,EAAE,KAAK;;;;;;sDACZ,qKAAC;;8DACC,qKAAC,gIAAI;oDAAC,MAAM,CAAC,YAAY,EAAE,EAAE,EAAE,EAAE;8DAAE;;;;;;gDAClC;8DACD,qKAAC;oDAAO,SAAS,IAAM,aAAa,EAAE,EAAE;8DAAG;;;;;;;;;;;;;mCAPtC,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgB3B"}}]
}